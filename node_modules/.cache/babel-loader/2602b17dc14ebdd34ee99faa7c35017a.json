{"ast":null,"code":"var _jsxFileName = \"/Users/allisonmoss/dev/devdo/devdo-frontend/frontend/src/components/IdeaDetail.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { APIURL } from '../config';\nimport { Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle, Button } from 'reactstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function IdeaDetail({\n  match\n}) {\n  _s();\n\n  const [deleted, setDeleted] = useState(false);\n  const [error, setError] = useState(false);\n  const [idea, setIdea] = useState(null);\n\n  const onDeleteIdea = e => {\n    const url = `${APIURL}/ideas/${match.params.id}`;\n    fetch(url, {\n      method: 'DELETE'\n    }).then(res => {\n      setDeleted(true);\n    }).catch(console.error);\n  };\n\n  useEffect(() => {\n    const url = `${APIURL}/ideas/${match.params.id}`;\n    fetch(url).then(res => res.json()).then(data => setIdea(data)).catch(() => {\n      setError(true);\n    });\n  }, [match.params.id]);\n\n  if (deleted) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/ideas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      children: \"Sorry, something went wrong. Please try again.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this);\n  }\n\n  if (!idea) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"loading, please wait\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this);\n  }\n\n  const developIdea = e => {\n    e.preventDefault();\n    const url = `${APIURL}/ideas/${match.params.id}`;\n    const stuffToSend = {\n      method: 'PUT',\n      headers: {\n        'Content-type': 'application/json; charset=UTF-8',\n        'Authorization': `Token ${localStorage.getItem('token')}`\n      },\n      body: JSON.stringify({ ...idea,\n        'in_progress': true\n      }),\n      credentials: 'include'\n    };\n    console.log(stuffToSend);\n    fetch(url, stuffToSend).then(res => res.json()) // .then(data => {\n    //     setCreatedId(data.id)\n    // })\n    // .then(data => toggle())\n    .catch(() => {\n      setError(true);\n    });\n  };\n\n  console.log(idea);\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: /*#__PURE__*/_jsxDEV(CardBody, {\n      children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n        tag: \"h1\",\n        children: idea.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CardSubtitle, {\n        tag: \"h3\",\n        children: [\"posted on \", idea.posted, \" by \", idea.poster]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CardSubtitle, {\n        tag: \"h3\",\n        children: \"As a user, I want to be able to...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CardSubtitle, {\n        tag: \"h3\",\n        children: [\"...\", idea.user_story]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), idea.in_progress ? /*#__PURE__*/_jsxDEV(Button, {\n        disabled: \"true\",\n        children: [idea.dev, \" is developing this idea\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 37\n      }, this) : /*#__PURE__*/_jsxDEV(Button, {\n        onClick: developIdea,\n        children: \"Develop this idea!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 107\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        children: \"Edit this idea\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n}\n\n_s(IdeaDetail, \"+fRujEFQW0WJAAzZOLOcPAUOQbM=\");\n\n_c = IdeaDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"IdeaDetail\");","map":{"version":3,"sources":["/Users/allisonmoss/dev/devdo/devdo-frontend/frontend/src/components/IdeaDetail.js"],"names":["React","useEffect","useState","Link","Redirect","APIURL","Card","CardImg","CardText","CardBody","CardTitle","CardSubtitle","Button","IdeaDetail","match","deleted","setDeleted","error","setError","idea","setIdea","onDeleteIdea","e","url","params","id","fetch","method","then","res","catch","console","json","data","developIdea","preventDefault","stuffToSend","headers","localStorage","getItem","body","JSON","stringify","credentials","log","title","posted","poster","user_story","in_progress","dev"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,kBAA/B;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,SACIC,IADJ,EACUC,OADV,EACmBC,QADnB,EAC6BC,QAD7B,EAEIC,SAFJ,EAEeC,YAFf,EAE6BC,MAF7B,QAGO,YAHP;;AAMA,eAAe,SAASC,UAAT,CAAoB;AAAEC,EAAAA;AAAF,CAApB,EAA+B;AAAA;;AAC1C,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBd,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACe,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAC,KAAD,CAAlC;AACA,QAAM,CAACiB,IAAD,EAAOC,OAAP,IAAkBlB,QAAQ,CAAC,IAAD,CAAhC;;AAEA,QAAMmB,YAAY,GAAIC,CAAD,IAAO;AACxB,UAAMC,GAAG,GAAI,GAAElB,MAAO,UAASS,KAAK,CAACU,MAAN,CAAaC,EAAG,EAA/C;AACAC,IAAAA,KAAK,CAACH,GAAD,EAAM;AAAEI,MAAAA,MAAM,EAAE;AAAV,KAAN,CAAL,CACKC,IADL,CACUC,GAAG,IAAI;AAAEb,MAAAA,UAAU,CAAC,IAAD,CAAV;AAAkB,KADrC,EAEKc,KAFL,CAEWC,OAAO,CAACd,KAFnB;AAGH,GALD;;AAOAhB,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMsB,GAAG,GAAI,GAAElB,MAAO,UAASS,KAAK,CAACU,MAAN,CAAaC,EAAG,EAA/C;AACAC,IAAAA,KAAK,CAACH,GAAD,CAAL,CACKK,IADL,CACUC,GAAG,IAAIA,GAAG,CAACG,IAAJ,EADjB,EAEKJ,IAFL,CAEUK,IAAI,IAAIb,OAAO,CAACa,IAAD,CAFzB,EAGKH,KAHL,CAGW,MAAM;AACTZ,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACH,KALL;AAMH,GARQ,EAQN,CAACJ,KAAK,CAACU,MAAN,CAAaC,EAAd,CARM,CAAT;;AAUA,MAAIV,OAAJ,EAAa;AACT,wBAAO,QAAC,QAAD;AAAU,MAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AACD,MAAIE,KAAJ,EAAW;AACP,wBACI;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAGH;;AACD,MAAI,CAACE,IAAL,EAAW;AACP,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAGH;;AAED,QAAMe,WAAW,GAAIZ,CAAD,IAAO;AACvBA,IAAAA,CAAC,CAACa,cAAF;AACA,UAAMZ,GAAG,GAAI,GAAElB,MAAO,UAASS,KAAK,CAACU,MAAN,CAAaC,EAAG,EAA/C;AACA,UAAMW,WAAW,GAAG;AAChBT,MAAAA,MAAM,EAAE,KADQ;AAEhBU,MAAAA,OAAO,EAAE;AACL,wBAAgB,iCADX;AAEL,yBAAkB,SAAQC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AAFnD,OAFO;AAMhBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,EAAE,GAAGvB,IAAL;AAAW,uBAAe;AAA1B,OAAf,CANU;AAOhBwB,MAAAA,WAAW,EAAE;AAPG,KAApB;AASAZ,IAAAA,OAAO,CAACa,GAAR,CAAYR,WAAZ;AACAV,IAAAA,KAAK,CAACH,GAAD,EAAMa,WAAN,CAAL,CAEKR,IAFL,CAEUC,GAAG,IAAIA,GAAG,CAACG,IAAJ,EAFjB,EAGI;AACA;AACA;AACA;AANJ,KAOKF,KAPL,CAOW,MAAM;AACTZ,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACH,KATL;AAUH,GAvBD;;AAyBAa,EAAAA,OAAO,CAACa,GAAR,CAAYzB,IAAZ;AAEA,sBACI,QAAC,IAAD;AAAA,2BACI,QAAC,QAAD;AAAA,8BACI,QAAC,SAAD;AAAW,QAAA,GAAG,EAAC,IAAf;AAAA,kBAAqBA,IAAI,CAAC0B;AAA1B;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,YAAD;AAAc,QAAA,GAAG,EAAC,IAAlB;AAAA,iCAAkC1B,IAAI,CAAC2B,MAAvC,UAAmD3B,IAAI,CAAC4B,MAAxD;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAKI,QAAC,YAAD;AAAc,QAAA,GAAG,EAAC,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ,eAQI,QAAC,YAAD;AAAc,QAAA,GAAG,EAAC,IAAlB;AAAA,0BACQ5B,IAAI,CAAC6B,UADb;AAAA;AAAA;AAAA;AAAA;AAAA,cARJ,EAWK7B,IAAI,CAAC8B,WAAL,gBAAmB,QAAC,MAAD;AAAQ,QAAA,QAAQ,EAAC,MAAjB;AAAA,mBAAyB9B,IAAI,CAAC+B,GAA9B;AAAA;AAAA;AAAA;AAAA;AAAA,cAAnB,gBAAyF,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAEhB,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAX9F,eAYI,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAZJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAkBH;;GAjFuBrB,U;;KAAAA,U","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Link, Redirect } from 'react-router-dom'\nimport { APIURL } from '../config'\nimport {\n    Card, CardImg, CardText, CardBody,\n    CardTitle, CardSubtitle, Button\n} from 'reactstrap';\n\n\nexport default function IdeaDetail({ match }) {\n    const [deleted, setDeleted] = useState(false)\n    const [error, setError] = useState(false)\n    const [idea, setIdea] = useState(null)\n\n    const onDeleteIdea = (e) => {\n        const url = `${APIURL}/ideas/${match.params.id}`\n        fetch(url, { method: 'DELETE' })\n            .then(res => { setDeleted(true) })\n            .catch(console.error)\n    }\n\n    useEffect(() => {\n        const url = `${APIURL}/ideas/${match.params.id}`\n        fetch(url)\n            .then(res => res.json())\n            .then(data => setIdea(data))\n            .catch(() => {\n                setError(true)\n            })\n    }, [match.params.id])\n\n    if (deleted) {\n        return <Redirect to=\"/ideas\"></Redirect>\n    }\n    if (error) {\n        return (\n            <div className=\"alert alert-danger\">Sorry, something went wrong. Please try again.</div>\n        )\n    }\n    if (!idea) {\n        return (\n            <div>loading, please wait</div>\n        )\n    }\n\n    const developIdea = (e) => {\n        e.preventDefault()\n        const url = `${APIURL}/ideas/${match.params.id}`\n        const stuffToSend = {\n            method: 'PUT',\n            headers: {\n                'Content-type': 'application/json; charset=UTF-8',\n                'Authorization': `Token ${localStorage.getItem('token')}`\n            },\n            body: JSON.stringify({ ...idea, 'in_progress': true }),\n            credentials: 'include'\n        }\n        console.log(stuffToSend)\n        fetch(url, stuffToSend\n        )\n            .then(res => res.json())\n            // .then(data => {\n            //     setCreatedId(data.id)\n            // })\n            // .then(data => toggle())\n            .catch(() => {\n                setError(true)\n            })\n    }\n\n    console.log(idea)\n\n    return (\n        <Card>\n            <CardBody>\n                <CardTitle tag=\"h1\">{idea.title}</CardTitle>\n                <CardSubtitle tag=\"h3\">posted on {idea.posted} by {idea.poster}</CardSubtitle>\n                {/* <CardSubtitle tag=\"h4\">tags</CardSubtitle>\n                <CardText>{idea.tags.map(tag => <div>#{tag}</div>)}</CardText> */}\n                <CardSubtitle tag=\"h3\">\n                    As a user, I want to be able to...\n                </CardSubtitle>\n                <CardSubtitle tag=\"h3\">\n                    ...{idea.user_story}\n                </CardSubtitle>\n                {idea.in_progress ? <Button disabled=\"true\">{idea.dev} is developing this idea</Button> : <Button onClick={developIdea}>Develop this idea!</Button>}\n                <Button >Edit this idea</Button>\n            </CardBody>\n        </Card>\n    )\n}"]},"metadata":{},"sourceType":"module"}