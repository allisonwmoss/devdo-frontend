{"ast":null,"code":"var _jsxFileName = \"/Users/allisonmoss/dev/devdo/devdo-frontend/frontend/src/components/Logout.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, Fragment } from 'react';\nimport { APIURL, FRONTURL } from '../config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Logout = () => {\n  _s();\n\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    if (localStorage.getItem('token') == null) {\n      window.location.replace(`${FRONTURL}/login`);\n    } else {\n      setLoading(false);\n    }\n  }, []);\n\n  const handleLogout = e => {\n    e.preventDefault();\n    fetch(`${APIURL}/api-auth/auth/logout/`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Token ${localStorage.getItem('token')}`\n      }\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n      localStorage.clear();\n      window.location.replace(`${FRONTURL}/login`);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [loading === true && /*#__PURE__*/_jsxDEV(Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"loading please wait\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }, this), loading === false && /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Are you sure you want to log out?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"button\",\n        value: \"Logout\",\n        onClick: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Logout, \"J7PPXooW06IQ11rfabbvgk72KFw=\");\n\n_c = Logout;\nexport default Logout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Logout\");","map":{"version":3,"sources":["/Users/allisonmoss/dev/devdo/devdo-frontend/frontend/src/components/Logout.js"],"names":["React","useState","useEffect","Fragment","APIURL","FRONTURL","Logout","loading","setLoading","localStorage","getItem","window","location","replace","handleLogout","e","preventDefault","fetch","method","headers","then","res","json","data","console","log","clear"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,QAArC,QAAqD,OAArD;AACA,SAASC,MAAT,EAAiBC,QAAjB,QAAiC,WAAjC;;;AAEA,MAAMC,MAAM,GAAG,MAAM;AAAA;;AACjB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,IAAD,CAAtC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIO,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC,IAArC,EAA2C;AACvCC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAyB,GAAER,QAAS,QAApC;AACH,KAFD,MAEO;AACHG,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH;AACJ,GANQ,EAMN,EANM,CAAT;;AAQA,QAAMM,YAAY,GAAIC,CAAD,IAAO;AACxBA,IAAAA,CAAC,CAACC,cAAF;AACAC,IAAAA,KAAK,CAAE,GAAEb,MAAO,wBAAX,EAAoC;AACrCc,MAAAA,MAAM,EAAE,MAD6B;AAErCC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,yBAAkB,SAAQV,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AAFnD;AAF4B,KAApC,CAAL,CAOKU,IAPL,CAOUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAPjB,EAQKF,IARL,CAQUG,IAAI,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAd,MAAAA,YAAY,CAACiB,KAAb;AACAf,MAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAyB,GAAER,QAAS,QAApC;AACH,KAZL;AAaH,GAfD;;AAiBA,sBACI;AAAA,eACKE,OAAO,KAAK,IAAZ,iBACG,QAAC,QAAD;AAAA,6BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAFR,EAMKA,OAAO,KAAK,KAAZ,iBACG,QAAC,QAAD;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,KAAK,EAAC,QAA3B;AAAoC,QAAA,OAAO,EAAEO;AAA7C;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAPR;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAeH,CA1CD;;GAAMR,M;;KAAAA,M;AA4CN,eAAeA,MAAf","sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\nimport { APIURL, FRONTURL } from '../config';\n\nconst Logout = () => {\n    const [loading, setLoading] = useState(true);\n    useEffect(() => {\n        if (localStorage.getItem('token') == null) {\n            window.location.replace(`${FRONTURL}/login`);\n        } else {\n            setLoading(false);\n        }\n    }, []);\n\n    const handleLogout = (e) => {\n        e.preventDefault();\n        fetch(`${APIURL}/api-auth/auth/logout/`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Token ${localStorage.getItem('token')}`\n            }\n        })\n            .then(res => res.json())\n            .then(data => {\n                console.log(data);\n                localStorage.clear();\n                window.location.replace(`${FRONTURL}/login`);\n            });\n    };\n\n    return (\n        <div>\n            {loading === true && (\n                <Fragment>\n                    <h1>loading please wait</h1>\n                </Fragment>\n            )}\n            {loading === false && (\n                <Fragment>\n                    <h1>Are you sure you want to log out?</h1>\n                    <input type='button' value='Logout' onClick={handleLogout} />\n                </Fragment>\n            )}\n        </div>\n    );\n};\n\nexport default Logout;"]},"metadata":{},"sourceType":"module"}